# psql

## Подключение

`psql -d db_name -U user_name -h node -p port`

`\c база юзер узел порт` - подключение к БД из другого подключения

`\conninfo` - параметры подключения

`\q` - выход

## Форматирование результатов запросов

`\x` - расширенный формат (разворачивает по вертикали)

`\gx` - расшир-ный формат только для текущего запроса

## Взаимодействие с ОС

`\! pwd`

`\setenv TEST Hello`

`\! exho $TEST`

`\o file_name` - вывод результата запроса в файл

`\i file_name` - выполнение запроса из файла

`psql < file_name`

`psql -f file_name`

## Переменные и управл-щие констр-ции

`\set TEST Hi!` - создаёт переменную подстановки psql

`\echo :TEST` - прочитать значение переменной

`\set` - список всех переменных

## Работа с системным каталогом

Команды для просмотра объектов ситемного каталога

`\d pg_tables` - описание таблицы

## Настройка psql

- общий системный скрипт psqlrc
- общий системный скрипт .psqlrc

Можно .psqlrc установить переменные с длинными запросами.

`\set top5 SELECT ...`

Вызов: `:top5`
